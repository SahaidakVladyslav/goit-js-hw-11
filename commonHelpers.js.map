{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// import axios from \"axios\"\nconst formEl = document.querySelector('.js-search-form')\nconst inputEl = document.querySelector('input')\nconst galleryEl = document.querySelector('.gallery')\nconst loaderEl = document.querySelector('.loader')\n\n// console.log(axios)\nconst gallery = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionDelay: 250,\n    fadeSpeed: 250,\n    captionSelector: \"img\",\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n});\n\nasync function promesUrl() {\n\n\n\n\n\n\n\n    const urlFromPixaby = new URLSearchParams({\n        key: '41648594-e525389370aefc2e125a1a54e',\n        q: `${inputEl.value}`,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    })\n\n    try {\n        const response = await fetch(`https://pixabay.com/api/?${urlFromPixaby}`)\n        const parsJson = await response.json()\n\n        return parsJson\n    } catch (error) {\n        throw new Error(response.statusText);\n    }\n}\n\nasync function response() {\n    try {\n        markup(await promesUrl())\n        gallery.refresh();\n        loaderSwitch()\n    } catch (error) {\n        console.log(new Error(error))\n    }\n\n}\n\nfunction markup({ hits }) {\n\n    const typset = hits.map(item => `\n    <li class=\"gallery__item\">\n    <a href=\"${item.largeImageURL}\">\n    <img class=\"gallery--img\" src=\"${item.webformatURL}\" alt=\"${item.tags}\" title=\"${item.tags}\"/>\n    </a>\n<ul class=\"gallery__list--characters\">\n  <p>likes: ${item.likes}</p>\n  <p>views: ${item.views}</p>\n  <p>comments: ${item.comments}</p>\n  <p>downloads: ${item.downloads}</p>\n</ul>\n    </li>`).join('')\n\n    return galleryEl.innerHTML = typset\n}\n\nconst loaderSwitch = () => {\n\n    loaderEl.classList.toggle('switcher')\n\n}\n\nconst izitoast = async () => {\n\n    try {\n        const respons = await promesUrl()\n        if (respons.hits.length === 0) {\n\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n\n        }\n    } catch (error) {\n        console.log(error)\n    }\n\n}\n\n\nloaderSwitch();\n\n\n\nformEl.addEventListener('submit', (event) => {\n    event.preventDefault()\n    loaderSwitch()\n    response()\n    izitoast()\n\n\n    formEl.reset()\n})\n\n\nconsole.log('mamba')"],"names":["formEl","inputEl","galleryEl","loaderEl","gallery","SimpleLightbox","promesUrl","urlFromPixaby","response","markup","loaderSwitch","error","hits","typset","item","izitoast","iziToast","event"],"mappings":"6vBAKA,MAAMA,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAG3CC,EAAU,IAAIC,EAAe,aAAc,CAC7C,SAAU,GACV,aAAc,IACd,UAAW,IACX,gBAAiB,MACjB,aAAc,MACd,gBAAiB,QACrB,CAAC,EAED,eAAeC,GAAY,CAQvB,MAAMC,EAAgB,IAAI,gBAAgB,CACtC,IAAK,qCACL,EAAG,GAAGN,EAAQ,QACd,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,GAAI,CAIA,OAFiB,MADA,MAAM,MAAM,4BAA4BM,GAAe,GACxC,KAAM,CAGzC,MAAC,CACE,MAAM,IAAI,MAAMC,EAAS,UAAU,CACtC,CACL,CAEA,eAAeA,GAAW,CACtB,GAAI,CACAC,EAAO,MAAMH,GAAW,EACxBF,EAAQ,QAAO,EACfM,EAAc,CACjB,OAAQC,EAAP,CACE,QAAQ,IAAI,IAAI,MAAMA,CAAK,CAAC,CAC/B,CAEL,CAEA,SAASF,EAAO,CAAE,KAAAG,GAAQ,CAEtB,MAAMC,EAASD,EAAK,IAAIE,GAAQ;AAAA;AAAA,eAErBA,EAAK;AAAA,qCACiBA,EAAK,sBAAsBA,EAAK,gBAAgBA,EAAK;AAAA;AAAA;AAAA,cAG5EA,EAAK;AAAA,cACLA,EAAK;AAAA,iBACFA,EAAK;AAAA,kBACJA,EAAK;AAAA;AAAA,UAEb,EAAE,KAAK,EAAE,EAEf,OAAOZ,EAAU,UAAYW,CACjC,CAEA,MAAMH,EAAe,IAAM,CAEvBP,EAAS,UAAU,OAAO,UAAU,CAExC,EAEMY,EAAW,SAAY,CAEzB,GAAI,EACgB,MAAMT,EAAW,GACrB,KAAK,SAAW,GAExBU,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACzB,CAAa,CAGR,OAAQL,EAAP,CACE,QAAQ,IAAIA,CAAK,CACpB,CAEL,EAGAD,IAIAV,EAAO,iBAAiB,SAAWiB,GAAU,CACzCA,EAAM,eAAgB,EACtBP,EAAc,EACdF,EAAU,EACVO,EAAU,EAGVf,EAAO,MAAO,CAClB,CAAC,EAGD,QAAQ,IAAI,OAAO"}